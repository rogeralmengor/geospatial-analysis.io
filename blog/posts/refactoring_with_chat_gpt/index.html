
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Lately, there's been a lot of talk about AI stealing our jobs as software developers. However, I prefer to see it as a tool that takes care of the boring stuff, freeing us up to focus on the more exciting aspects of our work. AI can handle tasks like dealing with documentation, fixing code, coming up with test ideas, and explaining code, allowing us to spend more time understanding what users really need and finding creative solutions. So, in today's blog post, I wanted to try something I've been meaning to do for a while. I'll put Chat-GPT to the test...">
      
      
      
      
        <link rel="prev" href="../nox_levels_in_panama/">
      
      
        <link rel="next" href="../river_dam_el_valle/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.24">
    
    
      
        <title>Being kind with my future self, using Chat-GPT to explain my past code. - Roger Almengor González</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96zm0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zm-40-176h24v-64h-24c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-80c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M480 32c0-12.9-7.8-24.6-19.8-29.6S434.5.2 425.3 9.3L381.7 53c-48 48-113.1 75-181 75H64c-35.3 0-64 28.7-64 64v96c0 35.3 28.7 64 64 64v128c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V352h8.7c67.9 0 133 27 181 75l43.6 43.6c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V300.4c18.6-8.8 32-32.5 32-60.4s-13.4-51.6-32-60.4V32zm-64 76.7v262.6C357.2 317.8 280.5 288 200.7 288H192v-96h8.7c79.8 0 156.5-29.8 215.3-83.3z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7l233.4-233.3c12.5-12.5 32.8-12.5 45.3 0z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zm-86.2-346.7c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1 0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6-13.3 0-24-10.7-24-24v-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1 0-8.4-6.8-15.1-15.1-15.1h-58.3c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1-64 0z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7.2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8.2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24v112c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0-64 0 32 32 0 1 0 64 0z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.1 52.4 442.6 6.5c-1.9-3.9-6.1-6.5-10.5-6.5s-8.5 2.6-10.4 6.5l-16.5 45.9-46 16.8c-4.3 1.6-7.3 5.9-7.2 10.4 0 4.5 3 8.7 7.2 10.2l45.7 16.8 16.8 45.8c1.5 4.4 5.8 7.5 10.4 7.5s8.9-3.1 10.4-7.5l16.5-45.8 45.7-16.8c4.2-1.5 7.2-5.7 7.2-10.2 0-4.6-3-8.9-7.2-10.4l-45.6-16.8zm-132.4 53c-12.5-12.5-32.8-12.5-45.3 0l-2.9 2.9c-22-8-45.8-12.3-70.5-12.3C93.1 96 0 189.1 0 304s93.1 208 208 208 208-93.1 208-208c0-24.7-4.3-48.5-12.2-70.5l2.9-2.9c12.5-12.5 12.5-32.8 0-45.3l-80-80zM200 192c-57.4 0-104 46.6-104 104v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-75.1 60.9-136 136-136h8c8.8 0 16 7.2 16 16s-7.2 16-16 16h-8z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 398.9c58.5-41.1 96-104.1 96-174.9C512 100.3 397.4 0 256 0S0 100.3 0 224c0 70.7 37.5 133.8 96 174.9V464c0 26.5 21.5 48 48 48h48v-48c0-8.8 7.2-16 16-16s16 7.2 16 16v48h64v-48c0-8.8 7.2-16 16-16s16 7.2 16 16v48h48c26.5 0 48-21.5 48-48v-65.1zM96 256a64 64 0 1 1 128 0 64 64 0 1 1-128 0zm256-64a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M320 0c17.7 0 32 14.3 32 32v64h120c39.8 0 72 32.2 72 72v272c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72h120V32c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16h-32zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16h-32zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16h-32zM264 256a40 40 0 1 0-80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224h16v192H48c-26.5 0-48-21.5-48-48v-96c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48h-16V224h16z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M288 0H128c-17.7 0-32 14.3-32 32s14.3 32 32 32v132.8c0 11.8-3.3 23.5-9.5 33.5L10.3 406.2C3.6 417.2 0 429.7 0 442.6 0 480.9 31.1 512 69.4 512h309.2c38.3 0 69.4-31.1 69.4-69.4 0-12.8-3.6-25.4-10.3-36.4L329.5 230.4c-6.2-10.1-9.5-21.7-9.5-33.5V64c17.7 0 32-14.3 32-32S337.7 0 320 0h-32zm-96 196.8V64h64v132.8c0 23.7 6.6 46.9 19 67.1l34.5 56.1h-171l34.5-56.1c12.4-20.2 19-43.4 19-67.1z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V216zm256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64h-64c-35.3 0-64-28.7-64-64V216z"/></svg>');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#first-code-snippets-i-was-creating-test-raster-files" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Roger Almengor González" class="md-header__button md-logo" aria-label="Roger Almengor González" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Roger Almengor González
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Being kind with my future self, using Chat-GPT to explain my past code.
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Roger Almengor González" class="md-nav__button md-logo" aria-label="Roger Almengor González" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Roger Almengor González
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../CV/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CV
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About this blog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Posts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Posts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../download_brandenburg_data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A database worth downloading for time series analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functional_programming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stop Wasting Time on Intermediate Variables, function composition to the rescue!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interactive_staging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using git add -N and git add -patch to split a single's file commit into several commits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../julia_vs_python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Performance benchmarking for Julia and Python in a geospatial task.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lst_modis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Measuring land surface temperature with satellite imagery
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nox_levels_in_panama/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring Nitrogen Oxide Levels during the COVID 19 Lock-down, Panama City
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Being kind with my future self, using Chat-GPT to explain my past code.
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Being kind with my future self, using Chat-GPT to explain my past code.
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#first-code-snippets-i-was-creating-test-raster-files" class="md-nav__link">
    <span class="md-ellipsis">
      First code snippets: I was creating test raster files.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#improving-the-code" class="md-nav__link">
    <span class="md-ellipsis">
      Improving the code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-if-pytest" class="md-nav__link">
    <span class="md-ellipsis">
      What if pytest?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../river_dam_el_valle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Landscape changes, my childhood, and the impact of man-made infrastructure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../statistics_with_SQL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic descriptive statistics using SQL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Portfolio
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Portfolio
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../portfolio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Description
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Languages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Languages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../portfolio/Languages/JavaScript%28GEE-API%29/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JavaScript(GEE API)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../portfolio/Languages/Python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#first-code-snippets-i-was-creating-test-raster-files" class="md-nav__link">
    <span class="md-ellipsis">
      First code snippets: I was creating test raster files.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#improving-the-code" class="md-nav__link">
    <span class="md-ellipsis">
      Improving the code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-if-pytest" class="md-nav__link">
    <span class="md-ellipsis">
      What if pytest?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Being kind with my future self, using Chat-GPT to explain my past code.</h1>

<p>Lately, there's been a lot of talk about AI stealing our jobs as software developers. However, I prefer to see it as a tool that takes care of the boring stuff, freeing us up to focus on the more exciting aspects of our work. AI can handle tasks like dealing with documentation, fixing code, coming up with test ideas, and explaining code, allowing us to spend more time understanding what users really need and finding creative solutions. </p>
<p>So, in today's blog post, I wanted to try something I've been meaning to do for a while. I'll put Chat-GPT to the test and use it to explain a code I wrote a couple of years ago. I'll also use some prompts to make the code even better, and improve its overall design and structure. Let's go.</p>
<h3 id="first-code-snippets-i-was-creating-test-raster-files">First code snippets: I was creating test raster files.</h3>
<p>I have in an old repo, the following code. I think I used it to create a very simple raster in GeoTiff format for testing purposes.</p>
<details>
  <summary>Code</summary>
```python linenums="1"
#!/usr/bin/env python3

from osgeo import gdal 
import numpy as np 
from osgeo import osr
import os 

# Contants for file creation

dtype = gdal.GDT_Byte
driver_name = "GTiff"
geotransform = [300000, 10, 0, 1000020, 0, -10]
x_size = 5
y_size = 5

def create_value_raster(filename):

    """Creates a test raster file"""

    driver = gdal.GetDriverByName(driver_name)
    dst_ds = driver.Create(filename, xsize = x_size, ysize= y_size,
                            bands = 1, eType= dtype)
    dst_ds.SetGeoTransform(geotransform)
    srs = osr.SpatialReference()
    srs.SetUTM(17, 1)
    srs.SetWellKnownGeogCS("WGS84")
    dst_ds.SetProjection(srs.ExportToWkt())
    array = np.array([[ x +1 for x in range(x_size)]\
                    for x in range(y_size)])
    dst_ds.GetRasterBand(1).WriteArray(array)

    dst_ds = None

def create_mask_raster(filename): 

    driver = gdal.GetDriverByName(driver_name)
    dst_ds = driver.Create(filename, xsize = 5, ysize = 5,
                            bands = 1, eType= dtype)
    dst_ds.SetGeoTransform(geotransform)
    srs = osr.SpatialReference()
    srs.SetUTM(17, 1)
    srs.SetWellKnownGeogCS("WGS84")
    dst_ds.SetProjection(srs.ExportToWkt())
    array = np.array([[ 101, 101, 0, 0, 0],
            [101, 101, 0, 202, 202],
            [101, 101, 0, 202, 202],
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],])
    dst_ds.GetRasterBand(1).WriteArray(array)

    dst_ds = None


def main(): 

    try: 
        os.makedirs("output")

    except Exception as e:
        print(e) 

    create_value_raster("output" + "/" + "value_raster.tif")
    create_mask_raster("output" + "/" + "mask_raster.tif")


if __name__ == "__main__": 
    main()

<pre><code>&lt;/details&gt;

The code does its work, however there are things that I could improve. Those improvements come from my future self (that happens all the time, I revisit some code I wrote 5 years ago, and I can only cringe).

Now, the time to ask the first question to Chat-GPT has come. In the following snippet you can find the nice question I just asked (I am always polite and try to do it even with advanced language processing systems... who knows maybe they are concious ;o) ):

&lt;p align=&quot;center&quot;&gt;
      &lt;img src=&quot;./../chat_gpt_1_question.png&quot; alt=&quot;Centered Image&quot;&gt;
      &lt;br&gt;
&lt;/p&gt;

And of course... it did it. And the answer is incredibly accurate, detailed and well documented.

&lt;details&gt;
    &lt;summary&gt;Code&lt;/summary&gt;
```python linenums=&quot;1&quot; 
#!/usr/bin/env python3

from osgeo import gdal
import numpy as np
from osgeo import osr
import os
</code></pre>

</details>

<p>This code imports necessary modules from the osgeo package, including gdal for geospatial data processing, osr for spatial reference system operations, and the standard os module for working with the operating system.</p>
<details>
<summary>Code</summary>
```python linenums="1"
dtype = gdal.GDT_Byte
driver_name = "GTiff"
geotransform = [300000, 10, 0, 1000020, 0, -10]
x_size = 5
y_size = 5

<pre><code>&lt;/details&gt;

Next, some constants are defined:

* dtype represents the data type of the raster, set to gdal.GDT_Byte.

* driver_name specifies the desired driver for creating the raster files, in this case, &quot;GTiff&quot; for GeoTIFF format.

* geotransform defines the geotransform parameters that describe the position and resolution of the raster data.

* x_size and y_size indicate the dimensions (width and height) of the raster.

&lt;details&gt;
&lt;summary&gt;Code&lt;/summary&gt;
```python linenums=&quot;1&quot;
def create_value_raster(filename):
    &quot;&quot;&quot;Creates a test raster file&quot;&quot;&quot;
    driver = gdal.GetDriverByName(driver_name)
    dst_ds = driver.Create(filename, xsize=x_size, ysize=y_size, bands=1, eType=dtype)
    dst_ds.SetGeoTransform(geotransform)
    srs = osr.SpatialReference()
    srs.SetUTM(17, 1)
    srs.SetWellKnownGeogCS(&quot;WGS84&quot;)
    dst_ds.SetProjection(srs.ExportToWkt())
    array = np.array([[x + 1 for x in range(x_size)] for x in range(y_size)])
    dst_ds.GetRasterBand(1).WriteArray(array)
    dst_ds = None
</code></pre>

</details>

<p>The create_value_raster function creates a test raster file with a filename provided as an argument. It uses the GDAL driver to create the raster file, setting its dimensions, number of bands, data type, geotransform, and spatial reference information. It then generates an array with increasing values and writes it to the raster band using WriteArray.</p>
<details>
<summary>Code</summary>
```python linenums="1"
def create_mask_raster(filename):
    driver = gdal.GetDriverByName(driver_name)
    dst_ds = driver.Create(filename, xsize=5, ysize=5, bands=1, eType=dtype)
    dst_ds.SetGeoTransform(geotransform)
    srs = osr.SpatialReference()
    srs.SetUTM(17, 1)
    srs.SetWellKnownGeogCS("WGS84")
    dst_ds.SetProjection(srs.ExportToWkt())
    array = np.array([[101, 101, 0, 0, 0],
                      [101, 101, 0, 202, 202],
                      [101, 101, 0, 202, 202],
                      [0, 0, 0, 0, 0],
                      [0, 0, 0, 0, 0]])
    dst_ds.GetRasterBand(1).WriteArray(array)
    dst_ds = None
    ```
</details>

<p>The create_mask_raster function is similar to create_value_raster but generates a mask raster file with different values.</p>
<details>
<summary>Code</summary>
```python linenums="1"
def main():
    try:
        os.makedirs("output")
    except Exception as e:
        print(e)
    create_value_raster("output" + "/" + "value_raster.tif")
    create_mask_raster("output" + "/" + "mask_raster.tif")

<pre><code>&lt;/details&gt;

The main function is the entry point of the script. It attempts to create an &quot;output&quot; directory using os.makedirs. If the directory already exists, it will raise an exception which is printed to the console. Then, it calls the create_value_raster and create_mask_raster functions to create the value and mask raster files within the &quot;output&quot; directory.

&lt;details&gt;
&lt;summary&gt;Code&lt;/summary&gt;
```python linenums=&quot;1&quot;
if __name__ == &quot;__main__&quot;:
    main()
</code></pre>

</details>

<p>Finally, if <strong>name</strong> == "<strong>main</strong>": ensures that the main function is executed only when the script is run directly, not when imported as a module.</p>
<p>Usefulness: This code is useful for generating test raster files for geospatial data processing tasks. It showcases the use of the GDAL library to create raster files with specific dimensions, data types, geotransform parameters, and spatial reference information. The generated raster files can be used as sample data for testing and developing algorithms, models, or applications that work with geospatial data.</p>
<h2 id="improving-the-code">Improving the code</h2>
<p>Now I would like to introduce some improvements in my code. I would like to introduce some type declarations for the functions, and also a nicely formatted docstring with parameters and return values specified. Let's do it.</p>
<p align="center">
      <img src="./../chat_gpt_2_question.png" alt="Centered Image">
      <br>
</p>

<details>
<summary>Code</summary>
```python linenums="1"
#!/usr/bin/env python3

from osgeo import gdal
import numpy as np
from osgeo import osr
import os

# Constants for file creation
dtype: int = gdal.GDT_Byte
driver_name: str = "GTiff"
geotransform: list[float] = [300000, 10, 0, 1000020, 0, -10]
x_size: int = 5
y_size: int = 5


def create_value_raster(filename: str) -> None:
    """
    Creates a test raster file.

    Args:
        filename (str): The name of the output raster file.

    Returns:
        None
    """
    driver: gdal.Driver = gdal.GetDriverByName(driver_name)
    dst_ds: gdal.Dataset = driver.Create(filename, xsize=x_size, ysize=y_size, bands=1, eType=dtype)
    dst_ds.SetGeoTransform(geotransform)
    srs: osr.SpatialReference = osr.SpatialReference()
    srs.SetUTM(17, 1)
    srs.SetWellKnownGeogCS("WGS84")
    dst_ds.SetProjection(srs.ExportToWkt())
    array: np.ndarray = np.array([[x + 1 for x in range(x_size)] for x in range(y_size)])
    dst_ds.GetRasterBand(1).WriteArray(array)
    dst_ds = None


def create_mask_raster(filename: str) -> None:
    """
    Creates a mask raster file.

    Args:
        filename (str): The name of the output raster file.

    Returns:
        None
    """
    driver: gdal.Driver = gdal.GetDriverByName(driver_name)
    dst_ds: gdal.Dataset = driver.Create(filename, xsize=5, ysize=5, bands=1, eType=dtype)
    dst_ds.SetGeoTransform(geotransform)
    srs: osr.SpatialReference = osr.SpatialReference()
    srs.SetUTM(17, 1)
    srs.SetWellKnownGeogCS("WGS84")
    dst_ds.SetProjection(srs.ExportToWkt())
    array: np.ndarray = np.array(
        [
            [101, 101, 0, 0, 0],
            [101, 101, 0, 202, 202],
            [101, 101, 0, 202, 202],
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
        ]
    )
    dst_ds.GetRasterBand(1).WriteArray(array)
    dst_ds = None


def main() -> None:
    """
    Main function that creates the value and mask raster files.

    Returns:
        None
    """
    try:
        os.makedirs("output")
    except Exception as e:
        print(e)
    create_value_raster("output" + "/" + "value_raster.tif")
    create_mask_raster("output" + "/" + "mask_raster.tif")


if __name__ == "__main__":
    main()

<pre><code>&lt;/details&gt;

Of course the code now looks better with type declarations and a docstring showing the arguments and

their type, as well as the return values. 

Let's see if it can make some changes to a test suite I created within the directory. By now, the test suit runs correctly, however I would like to test Chat-GPT to introduce some changes. 

## Test Code

The next code snippet is the contents of a file called text_pixel_stats.py:

&lt;details&gt;
&lt;summary&gt;Code&lt;/summary&gt;
```python linenums=&quot;1&quot;
#!/usr/bin/env python3

import unittest
import numpy as np 
from osgeo import gdal
import subprocess
import pandas as pd


def return_index_2D_array(arr, val): 

    &quot;&quot;&quot;Returns the index for valid data in array,
    as a lists of tuple, with every tuple
    containing the valid coordinate positions
    in image for every pixel&quot;&quot;&quot; 

    result =  np.where(arr != val)
    rows = result[0].astype(&quot;uint8&quot;)
    cols = result[1].astype(&quot;uint8&quot;)
    listOfCoordinates = list(zip(rows, cols))
    return listOfCoordinates

def return_image_coordinate(x, y, gt):

    &quot;&quot;&quot;
    From pixel coordinates (x,y) returns
    the image coordinate. It needs the
    Geotransform parameters as list (gt)
    &quot;&quot;&quot;
    xoffset = gt[0]
    px_w = gt[1]
    rot1 = gt[2]
    yoffset = gt[3]
    rot2 = gt[4]
    px_h = gt[5]

    xgeo = px_w * x + rot1 * y + xoffset
    ygeo = rot2 * x + px_h * y + yoffset
    xgeo += px_w / 2.0
    ygeo += px_h / 2

    return xgeo, ygeo 


class TestPixelStats(unittest.TestCase):

    def masking_values(self, arr1, pixel_val):

        &quot;&quot;&quot;Creates a bool mask, related to invalid
        pixels in an array. True belong a valid
        pixels, where 'pixel_value' is not found&quot;&quot;&quot;

        mask = ((arr1 != pixel_val))

        return mask 


    def change_dtype_array(self, arr, dtype): 

        &quot;&quot;&quot;Changes the data type of array&quot;&quot;&quot;
        return arr.astype(dtype)


    def return_index_2D_array(self, arr, val): 

        &quot;&quot;&quot;Returns the index for valid data in array,
        as a lists of tuple, with every tuple
        containing the valid coordinate positions
        in image for every pixel&quot;&quot;&quot; 

        result =  np.where(arr != val)
        rows = result[0].astype(&quot;uint8&quot;)
        cols = result[1].astype(&quot;uint8&quot;)
        listOfCoordinates = list(zip(rows, cols))
        return listOfCoordinates

    def return_image_coordinate(self, x, y, gt):

        &quot;&quot;&quot;
        From pixel coordinates (x,y) returns
        the image coordinate. It needs the
        Geotransform parameters as list (gt)
        &quot;&quot;&quot;
        xoffset = gt[0]
        px_w = gt[1]
        rot1 = gt[2]
        yoffset = gt[3]
        rot2 = gt[4]
        px_h = gt[5]

        xgeo = px_w * x + rot1 * y + xoffset
        ygeo = rot2 * x + px_h * y + yoffset
        xgeo += px_w / 2.0
        ygeo += px_h / 2

        return xgeo, ygeo 


    def setUp(self): 

        &quot;&quot;&quot; The setup files to run this tests are
        located in the output folder, and they are
        created with the create_test_files.py script
        &quot;&quot;&quot;

        self.values_path = &quot;output/value_raster.tif&quot; 
        self.mask_path = &quot;output/mask_raster.tif&quot;

        self.in_ds_values = gdal.Open(self.values_path)
        self.in_ds_mask = gdal.Open(self.mask_path)

        self.values_arr = np.array(self.in_ds_values.GetRasterBand(1)\
                        .ReadAsArray()) 
        self.mask_arr = np.array(self.in_ds_mask.GetRasterBand(1).\
                        ReadAsArray())


    def test_masking_values(self):

        &quot;&quot;&quot;Tests if after creating a boolean mask
        with True values returned where valid data
        are located, and False whenever the invalid
        value is found in the array. In this case
        we take 0 as the invalid value&quot;&quot;&quot;

        mask = self.masking_values(self.mask_arr, 0)
        data = np.where(mask == False, np.nan, self.values_arr)
        data = self.change_dtype_array(data, &quot;uint8&quot;)
        should_be = np.array([[1, 2, np.nan, np.nan, np.nan],
                            [1, 2, np.nan, 4, 5],
                            [1, 2, np.nan, 4, 5],
                            [np.nan, np.nan, np.nan, np.nan, np.nan],
                            [np.nan, np.nan, np.nan, np.nan, np.nan]])
        should_be = self.change_dtype_array(should_be, &quot;uint8&quot;) 
        self.assertEqual(data.tolist(), should_be.tolist())

    def testing_return_index_2D_array(self): 

        &quot;&quot;&quot;Tests if position coordinates in image are returned
        from a value array. Valid pixels are the ones different
        of 0&quot;&quot;&quot;

        mask = self.masking_values(self.mask_arr, 0) 
        data = np.where(mask == False, 0, self.values_arr)
        data = self.change_dtype_array(data, &quot;uint8&quot;)
        index_valid_data = self.return_index_2D_array(data, 0)
        list_of_coordinates = [(0,0), (0,1),
                                (1,0), (1,1),(1,3), (1,4),
                                (2,0), (2,1),(2,3), (2,4)]
        self.assertEqual(index_valid_data, list_of_coordinates)


    def testing_return_pos_coordinates_(self):

        &quot;&quot;&quot;Tests if position coordinates for  a pixel position
        on an image are returned, for valid data. In this case 
        no valid data is 0&quot;&quot;&quot;

        mask = self.masking_values(self.mask_arr, 0) 
        data = np.where(mask == False, 0, self.values_arr)
        data = self.change_dtype_array(data, &quot;uint8&quot;)
        index_valid_data = self.return_index_2D_array(data, 0)
        list_of_coordinates = [(0,0), (0,1),
                                (1,0), (1,1),(1,3), (1,4),
                                (2,0), (2,1),(2,3), (2,4)]
        gt = self.in_ds_values.GetGeoTransform() 
        test_posx = list_of_coordinates[0][0]
        test_posy = list_of_coordinates[0][1]
        geo_posx, geo_posy = self.return_image_coordinate(test_posx,\
                                                        test_posy,\
                                                        gt)
        self.assertEqual(geo_posx, 300005)
        self.assertEqual(geo_posy, 1000015)


class TestPixelStats(unittest.TestCase):

    def testing_workflow(self): 

        values_ds = gdal.Open(&quot;output/value_raster.tif&quot;)
        mask_ds = gdal.Open(&quot;output/mask_raster.tif&quot;)

        ## Masking out valid data from mask raster 
        ## output/mask_raster.tif plays the role that 
        ## the rasterized version of the vector with 
        ## the &quot;burned&quot; class column, that will become
        ## the raster values 

        print(&quot;-- Reading arrays for Values, FID and Proximity --&quot;)
        values_arr = np.array(values_ds.GetRasterBand(1)\
                        .ReadAsArray())
        mask_arr_original = np.array(mask_ds.GetRasterBand(1)\
                        .ReadAsArray())

        print(&quot;-- Extracting only valid data and fid --&quot;)
        values_arr = values_arr[mask_arr_original != 0] 
        print(values_arr.shape)
        mask_arr = mask_arr_original[mask_arr_original != 0]
        print(mask_arr.shape)

        print(&quot;-- Getting xcoor and ycoor for pixels --&quot;)
        gt = mask_ds.GetGeoTransform() 
        index_valid_data = return_index_2D_array(mask_arr_original, 0)
        print(index_valid_data) 
        coor_valid_data = np.array([return_image_coordinate(x[0], x[1], gt) for x in index_valid_data])
        x_coor_ = np.array([item[0] for item in coor_valid_data.tolist()])
        y_coor_ = np.array([item[1] for item in coor_valid_data.tolist()])

        print(x_coor_)
        print(y_coor_)

        Data = pd.DataFrame(values_arr, columns = [&quot;TF_VALUE&quot;])
        Data[&quot;FID&quot;] = mask_arr
        Data[&quot;X_coor&quot;] = x_coor_
        Data[&quot;Y_coor&quot;] = y_coor_
        print(Data)


if __name__ == '__main__':
    unittest.main()
</code></pre>

</details>

<p>Even though the function works, there is a couple of things that I don't like about my past code. First I declared some functions, that I copy 1:1 as methods within the Test Suite. I would like to get rid of these code duplication. </p>
<p align="center">
      <img src="./../chat_gpt_3_question.png" alt="Centered Image">
      <br>
</p>

<p>The following is the code generated by the prompt:</p>
<details>
<summary>Code</summary>
```python linenums="1"
#!/usr/bin/env python3

import unittest
import numpy as np
from osgeo import gdal
import subprocess
import pandas as pd


def return_index_2D_array(arr, val):
    """Returns the index for valid data in an array,
    as a list of tuples, with each tuple containing the
    coordinates of valid data in the image for each pixel"""
    result = np.where(arr != val)
    rows = result[0].astype("uint8")
    cols = result[1].astype("uint8")
    listOfCoordinates = list(zip(rows, cols))
    return listOfCoordinates


def return_image_coordinate(x, y, gt):
    """
    From pixel coordinates (x,y), returns
    the image coordinates. It requires the
    Geotransform parameters as a list (gt).
    """
    xoffset = gt[0]
    px_w = gt[1]
    rot1 = gt[2]
    yoffset = gt[3]
    rot2 = gt[4]
    px_h = gt[5]

    xgeo = px_w * x + rot1 * y + xoffset
    ygeo = rot2 * x + px_h * y + yoffset
    xgeo += px_w / 2.0
    ygeo += px_h / 2

    return xgeo, ygeo


class TestPixelStats(unittest.TestCase):
    def masking_values(self, arr1, pixel_val):
        """Creates a boolean mask related to invalid
        pixels in an array. True belongs to valid
        pixels, where 'pixel_value' is not found"""
        mask = arr1 != pixel_val
        return mask

    def change_dtype_array(self, arr, dtype):
        """Changes the data type of an array"""
        return arr.astype(dtype)

    def setUp(self):
        """The setup files to run these tests are
        located in the output folder and are created
        with the create_test_files.py script"""
        self.values_path = "output/value_raster.tif"
        self.mask_path = "output/mask_raster.tif"

        self.in_ds_values = gdal.Open(self.values_path)
        self.in_ds_mask = gdal.Open(self.mask_path)

        self.values_arr = np.array(self.in_ds_values.GetRasterBand(1).ReadAsArray())
        self.mask_arr = np.array(self.in_ds_mask.GetRasterBand(1).ReadAsArray())

    def test_masking_values(self):
        """Tests if after creating a boolean mask
        with True values returned where valid data
        are located, and False whenever the invalid
        value is found in the array. In this case,
        we take 0 as the invalid value"""
        mask = self.masking_values(self.mask_arr, 0)
        data = np.where(mask == False, np.nan, self.values_arr)
        data = self.change_dtype_array(data, "uint8")
        should_be = np.array(
            [
                [1, 2, np.nan, np.nan, np.nan],
                [1, 2, np.nan, 4, 5],
                [1, 2, np.nan, 4, 5],
                [np.nan, np.nan, np.nan, np.nan, np.nan],
                [np.nan, np.nan, np.nan, np.nan, np.nan],
            ]
        )
        should_be = self.change_dtype_array(should_be, "uint8")
        self.assertEqual(data.tolist(), should_be.tolist())

    def testing_return_index_2D_array(self):
        """Tests if position coordinates in the image are returned
        from a value array. Valid pixels are the ones different
        from 0"""
        mask = self.masking_values(self.mask_arr, 0)
        data = np.where(mask == False, 0, self.values_arr)
        data = self.change_dtype_array(data, "uint8")
        index_valid_data = return_index_2D_array(data, 0)
        list_of_coordinates = [
            (0, 0),
            (0, 1),
            (1, 0),
            (1, 1),
            (1, 3),
            (1, 4),
            (2, 0),
            (2, 1),
            (2, 3),
            (2, 4),
        ]
        self.assertEqual(index_valid_data, list_of_coordinates)

    def testing_return_pos_coordinates(self):
        """Tests if position coordinates for a pixel position
        on an image are returned for valid data. In this case,
        no valid data is 0"""
        mask = self.masking_values(self.mask_arr, 0)
        data = np.where(mask == False, 0, self.values_arr)
        data = self.change_dtype_array(data, "uint8")
        index_valid_data = return_index_2D_array(data, 0)
        list_of_coordinates = [
            (0, 0),
            (0, 1),
            (1, 0),
            (1, 1),
            (1, 3),
            (1, 4),
            (2, 0),
            (2, 1),
            (2, 3),
            (2, 4),
        ]
        gt = self.in_ds_values.GetGeoTransform()
        test_posx = list_of_coordinates[0][0]
        test_posy = list_of_coordinates[0][1]
        geo_posx, geo_posy = return_image_coordinate(test_posx, test_posy, gt)
        self.assertEqual(geo_posx, 300005)
        self.assertEqual(geo_posy, 1000015)


if __name__ == "__main__":
    unittest.main()

<pre><code>&lt;/details&gt;

And the tests still run:

!!! success
    ```linux
    $ python -m unittest
    ...
    ----------------------------------------------------------------------
    Ran 3 tests in 0.010s
    ```

## Refactoring the test class

Another improvement we can introduce is to remove methods, and make them functions outside of the Test Class body. Let's do it.

&lt;p align=&quot;center&quot;&gt;
      &lt;img src=&quot;./../chat_gpt_4_question.png&quot; alt=&quot;Centered Image&quot;&gt;
      &lt;br&gt;
&lt;/p&gt;

&lt;details&gt;
&lt;summary&gt;Code&lt;/summary&gt;
```python linenums=&quot;1&quot;
#!/usr/bin/env python3

import unittest
import numpy as np
from osgeo import gdal
import subprocess
import pandas as pd


def masking_values(arr1, pixel_val):
    &quot;&quot;&quot;Creates a boolean mask related to invalid
    pixels in an array. True belongs to valid
    pixels, where 'pixel_value' is not found&quot;&quot;&quot;
    mask = arr1 != pixel_val
    return mask


def change_dtype_array(arr, dtype):
    &quot;&quot;&quot;Changes the data type of an array&quot;&quot;&quot;
    return arr.astype(dtype)


def return_index_2D_array(arr, val):
    &quot;&quot;&quot;Returns the index for valid data in an array,
    as a list of tuples, with each tuple containing the
    coordinates of valid data in the image for each pixel&quot;&quot;&quot;
    result = np.where(arr != val)
    rows = result[0].astype(&quot;uint8&quot;)
    cols = result[1].astype(&quot;uint8&quot;)
    listOfCoordinates = list(zip(rows, cols))
    return listOfCoordinates


def return_image_coordinate(x, y, gt):
    &quot;&quot;&quot;
    From pixel coordinates (x,y), returns
    the image coordinates. It requires the
    Geotransform parameters as a list (gt).
    &quot;&quot;&quot;
    xoffset = gt[0]
    px_w = gt[1]
    rot1 = gt[2]
    yoffset = gt[3]
    rot2 = gt[4]
    px_h = gt[5]

    xgeo = px_w * x + rot1 * y + xoffset
    ygeo = rot2 * x + px_h * y + yoffset
    xgeo += px_w / 2.0
    ygeo += px_h / 2

    return xgeo, ygeo


class TestPixelStats(unittest.TestCase):
    def setUp(self):
        &quot;&quot;&quot;The setup files to run these tests are
        located in the output folder and are created
        with the create_test_files.py script&quot;&quot;&quot;
        self.values_path = &quot;output/value_raster.tif&quot;
        self.mask_path = &quot;output/mask_raster.tif&quot;

        self.in_ds_values = gdal.Open(self.values_path)
        self.in_ds_mask = gdal.Open(self.mask_path)

        self.values_arr = np.array(self.in_ds_values.GetRasterBand(1).ReadAsArray())
        self.mask_arr = np.array(self.in_ds_mask.GetRasterBand(1).ReadAsArray())

    def test_masking_values(self):
        &quot;&quot;&quot;Tests if after creating a boolean mask
        with True values returned where valid data
        are located, and False whenever the invalid
        value is found in the array. In this case,
        we take 0 as the invalid value&quot;&quot;&quot;
        mask = masking_values(self.mask_arr, 0)
        data = np.where(mask == False, np.nan, self.values_arr)
        data = change_dtype_array(data, &quot;uint8&quot;)
        should_be = np.array(
            [
                [1, 2, np.nan, np.nan, np.nan],
                [1, 2, np.nan, 4, 5],
                [1, 2, np.nan, 4, 5],
                [np.nan, np.nan, np.nan, np.nan, np.nan],
                [np.nan, np.nan, np.nan, np.nan, np.nan],
            ]
        )
        should_be = change_dtype_array(should_be, &quot;uint8&quot;)
        self.assertEqual(data.tolist(), should_be.tolist())

    def testing_return_index_2D_array(self):
        &quot;&quot;&quot;Tests if position coordinates in the image are returned
        from a value array. Valid pixels are the ones different
        from 0&quot;&quot;&quot;
        mask = masking_values(self.mask_arr, 0)
        data = np.where(mask == False, 0, self.values_arr)
        data = change_dtype_array(data, &quot;uint8&quot;)
        index_valid_data = return_index_2D_array(data, 0)
        list_of_coordinates = [
            (0, 0),
            (0, 1),
            (1, 0),
            (1, 1),
            (1, 3),
            (1, 4),
            (2, 0),
            (2, 1),
            (2, 3),
            (2, 4),
        ]
        self.assertEqual(index_valid_data, list_of_coordinates)

    def testing_return_pos_coordinates(self):
        &quot;&quot;&quot;Tests if position coordinates for a pixel position
        on an image are returned for valid data. In this case,
        no valid data is 0&quot;&quot;&quot;
        mask = masking_values(self.mask_arr, 0)
        data = np.where(mask == False, 0, self.values_arr)
        data = change_dtype_array(data, &quot;uint8&quot;)
        index_valid_data = return_index_2D_array(data, 0)
        list_of_coordinates = [
            (0, 0),
            (0, 1),
            (1, 0),
            (1, 1),
            (1, 3),
            (1, 4),
            (2, 0),
            (2, 1),
            (2, 3),
            (2, 4),
        ]
        gt = self.in_ds_values.GetGeoTransform()
        test_posx = list_of_coordinates[0][0]
        test_posy = list_of_coordinates[0][1]
        geo_posx, geo_posy = return_image_coordinate(test_posx, test_posy, gt)
        self.assertEqual(geo_posx, 300005)
        self.assertEqual(geo_posy, 1000015)


if __name__ == &quot;__main__&quot;:
    unittest.main()
</code></pre>

</details>

<p>In this re-written version of the test suite by Chat-GPT, the masking_values and change_dtype_array functions are declared outside the TestPixelStats class and are utilized directly within the test methods.</p>
<h2 id="what-if-pytest">What if pytest?</h2>
<p>My second improvement in the test suite is to change the unittest framework for the pytest framework. I will ask Chat-GPT to translate the unittest to a pytest, use fixtures to replace the setUp method, and finally do some more improvements like creating better docstrings for the functions, and giving better formatted docstrings. The reason behind changing to pytest is personal. Even though unittest is part of the standard library, I find pytest less boiler plate.</p>
<p align="center">
      <img src="./../chat_gpt_5_question.png" alt="Centered Image">
      <br>
</p>

<details>
<summary>Code</summary>
```python linenums="1"
import pytest
import numpy as np
from osgeo import gdal
from typing import List, Tuple


def masking_values(arr1: np.ndarray, pixel_val: int) -> np.ndarray:
    """
    Creates a boolean mask related to invalid pixels in an array.
    True belongs to valid pixels, where 'pixel_value' is not found.
    """
    mask = arr1 != pixel_val
    return mask


def change_dtype_array(arr: np.ndarray, dtype: str) -> np.ndarray:
    """Changes the data type of an array."""
    return arr.astype(dtype)


def return_index_2D_array(arr: np.ndarray, val: int) -> List[Tuple[int, int]]:
    """
    Returns the index for valid data in the array as a list of tuples.
    Each tuple contains the coordinates of valid data in the image for each pixel.
    """
    result = np.where(arr != val)
    rows = result[0].astype("uint8")
    cols = result[1].astype("uint8")
    listOfCoordinates = list(zip(rows, cols))
    return listOfCoordinates


def return_image_coordinate(x: int, y: int, gt: List[float]) -> Tuple[float, float]:
    """
    From pixel coordinates (x,y), returns the image coordinates.
    It requires the Geotransform parameters as a list (gt).
    """
    xoffset, px_w, rot1, yoffset, rot2, px_h = gt

    xgeo = px_w * x + rot1 * y + xoffset
    ygeo = rot2 * x + px_h * y + yoffset
    xgeo += px_w / 2.0
    ygeo += px_h / 2

    return xgeo, ygeo


@pytest.fixture
def test_data():
    values_path = "output/value_raster.tif"
    mask_path = "output/mask_raster.tif"
    in_ds_values = gdal.Open(values_path)
    in_ds_mask = gdal.Open(mask_path)
    values_arr = np.array(in_ds_values.GetRasterBand(1).ReadAsArray())
    mask_arr = np.array(in_ds_mask.GetRasterBand(1).ReadAsArray())
    return values_arr, mask_arr


def test_masking_values(test_data):
    """Tests if after creating a boolean mask with True values returned where valid data
    are located, and False whenever the invalid value is found in the array. In this case,
    we take 0 as the invalid value."""
    values_arr, mask_arr = test_data
    mask = masking_values(mask_arr, 0)
    data = np.where(mask == False, np.nan, values_arr)
    data = change_dtype_array(data, "uint8")
    should_be = np.array(
        [
            [1, 2, np.nan, np.nan, np.nan],
            [1, 2, np.nan, 4, 5],
            [1, 2, np.nan, 4, 5],
            [np.nan, np.nan, np.nan, np.nan, np.nan],
            [np.nan, np.nan, np.nan, np.nan, np.nan],
        ]
    )
    should_be = change_dtype_array(should_be, "uint8")
    assert np.array_equal(data, should_be)


def test_return_index_2D_array(test_data):
    """Tests if position coordinates in the image are returned from a value array.
    Valid pixels are the ones different from 0."""
    values_arr, mask_arr = test_data
    mask = masking_values(mask_arr, 0)
    data = np.where(mask == False, 0, values_arr)
    data = change_dtype_array(data, "uint8")
    index_valid_data = return_index_2D_array(data, 0)
    list_of_coordinates = [
        (0, 0),
        (0, 1),
        (1, 0),
        (1, 1),
        (1, 3),
        (1, 4),
        (2, 0),
        (2, 1),
        (2, 3),
        (2, 4),
    ]
    assert index_valid_data == list_of_coordinates


def test_return_image_coordinate(test_data):
    """Tests if position coordinates for a pixel position on an image are returned
    for valid data. In this case, no valid data is 0."""
    values_arr, mask_arr = test_data
    mask = masking_values(mask_arr, 0)
    data = np.where(mask == False, 0, values_arr)
    data = change_dtype_array(data, "uint8")
    index_valid_data = return_index_2D_array(data, 0)
    list_of_coordinates = [
        (0, 0),
        (0, 1),
        (1, 0),
        (1, 1),
        (1, 3),
        (1, 4),
        (2, 0),
        (2, 1),
        (2, 3),
        (2, 4),
    ]
    gt = gdal.Open("output/value_raster.tif").GetGeoTransform()
    test_posx = list_of_coordinates[0][0]
    test_posy = list_of_coordinates[0][1]
    geo_posx, geo_posy = return_image_coordinate(test_posx, test_posy, gt)
    assert geo_posx == 300005
    assert geo_posy == 1000015
```
</details>

<p>I ran the tests and the feedback is still positive.
!!! success
    ```linux
    $ python -m pytest
    =============================================================== test session starts ================================================================
    platform win32 -- Python 3.10.4, pytest-7.2.0, pluggy-1.0.0
    rootdir: C:\Users\almrog\pixel_stats
    plugins: anyio-3.6.2
    collected 3 items</p>
<pre><code>test_pixel_stats.py ...                                                                                                                       [100%]

================================================================ 3 passed in 0.32s =================================================================
```
</code></pre>
<p>In this version, the code uses the pytest framework and fixtures to replace the setUp method. The functions masking_values, change_dtype_array, return_index_2D_array, and return_image_coordinate are declared outside the test class and are utilized directly within the test functions. The code includes type hints and improved docstrings for better readability and clarity.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Chat-GPT (or advanced language processing systems) can indeed be intimidating for software developers. These systems not only provide code solutions but also offer explanations and improvements, almost automatically. However, just like any tool that facilitates work for professionals (such as chainsaws for forestry workers or cranes for construction workers), language processing systems that can translate ideas into code are useful if you have a solid understanding of your work, you know relevant concepts, and know what results you expect. In other words, you could eventually arrive at the same solution on your own, but it would undoubtedly take more time. At present, I am thrilled about these advancements that make our lives as programmers easier and allow us to focus on software design and delivering solutions to our clients.</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "content.code.select"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.081f42fc.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
      
        <script src="../../../javascripts/highlight.js"></script>
      
        <script src="../../../javascripts/theme-toggle.js"></script>
      
    
  </body>
</html>